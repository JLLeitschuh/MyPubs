
<div id="contributors" ng-controller="contributorsCtrl">
    <tabset>
	<tab ng-repeat="tab in contribTabs" heading="{{tab.text}}" select="selectedTab($index)">
	    <form role="form">
		<div ui-sortable="sortOptions" ng-model="tab.data">
		    <div class="contributor-input-div" ng-repeat="contrib in tab.data">
			<pw-data-list-row class="row" on-delete="deleteContributor($index)" >
			    <select placeholder="Select kind" ui-select2 ng-model="contrib.kind" ng-change="changeKind(contrib)">
				<option></option>
				<option ng-repeat="option in contribKindOptions" value="{{option}}">{{option}}</option>
			    </select>
			    <div class="contrib-info-div" ng-if="isPerson(contrib)">
				<input type="hidden" placeholder="Select Person" ui-select2="contrib.select2Options" ng-model="contrib.contributorId" ng-change="updateContributorInfo($index)">
				<input class="contrib-affiliation" type="text" readonly ng-model="contrib.affiliation.text" />
			    </div>
			    <div class="contrib-info-div" ng-if="isCorporation(contrib)">
				<input type="hidden" placeholder="Select Corporation" ui-select2="contrib.select2Options" ng-model="contrib.contributorId" ng-change="updateContributorInfo($index)">
			    </div>
			</pw-data-list-row>
		    </div>
		</div>

		<div>
		    <button type="button" class="btn btn-default" ng-click="addContributor()">New {{tab.text}}</button>
		</div>
	    </form>
	</tab>
    </tabset>
</div>
